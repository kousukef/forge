---
description: "機能設計の前にソクラテス式対話で要件を深掘りする"
disable-model-invocation: true
argument-hint: "<topic>"
---

# /brainstorm コマンド

## 目的

機能設計の前にソクラテス式対話で要件を深掘りし、ミニマルで的確な提案書を作成する。

## OpenSpec 初期化

1. `openspec/` ディレクトリが存在しない場合は以下を作成：
   - `openspec/specs/`
   - `openspec/changes/archive/`
2. `openspec/project.md` が存在しない場合は、プロジェクト分析から自動生成する

## ワークフロー

1. $ARGUMENTS が指定されていればトピックとして使用し、省略されていればユーザーに「何を作りたいですか？」と質問する
2. **一度に1つだけ質問する**（複数質問を一度に投げない）
3. 可能な限り**選択肢形式**で質問する（A/B/C方式）
4. **YAGNI原則**を徹底適用する -- 「それは本当に今必要か？」を常に問う
5. 要件が十分に固まったら変更名を決定し、`openspec/changes/<change-name>/proposal.md` に提案書を出力
6. 提案書には以下を含む：
   - 意図（なぜこの変更が必要か）
   - ユーザーストーリー
   - 対象領域
   - スコープ外の明示（YAGNIで除外したもの）
   - 未解決の疑問点

## 変更名の決定ルール

- トピックから kebab-case で自動導出する（例: 「OAuth ログイン追加」→ `add-oauth-login`）

## 重要なルール

- **コードの話は一切しない**。設計の話だけ。
- ユーザーが「十分」と言うまで質問を続ける
- 過剰な機能提案をしない。ミニマルに保つ
- 質問は具体的で答えやすいものにする
- 技術的な詳細には踏み込まない（それは `/spec` の仕事）

## 提案書形式

`openspec/changes/<change-name>/proposal.md`:

```markdown
# [変更名] 提案書

## 意図（Intent）
[なぜこの変更が必要か]

## スコープ（Scope）
### ユーザーストーリー
- ユーザーとして、[行動]したい。なぜなら[理由]だから。
### 対象領域
- [影響を受けるシステム領域]

## スコープ外（Out of Scope）
- [除外した機能]: [除外理由 -- YAGNI]

## 未解決の疑問点（Open Questions）
- [疑問]
```
